(()=>{var e={};e.id=607,e.ids=[607],e.modules={6864:e=>{function webpackEmptyContext(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=6864,e.exports=webpackEmptyContext},1841:e=>{"use strict";e.exports=require("@aws-sdk/client-s3")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},7388:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>p,routeModule:()=>x,tree:()=>d});var s=r(3137),n=r(4647),i=r(4183),o=r.n(i),a=r(1775),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let c=s.AppPageRouteModule,d=["",{children:["explore",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7170)),"/Users/ethan/dev/projects/sonification-web-client/app/explore/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,4998))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5966)),"/Users/ethan/dev/projects/sonification-web-client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,1918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,4998))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["/Users/ethan/dev/projects/sonification-web-client/app/explore/page.tsx"],u="/explore/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new c({definition:{kind:n.x.APP_PAGE,page:"/explore/page",pathname:"/explore",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1043:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,1297,23))},7170:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Explore,dynamic:()=>l});var s=r(8144),n=r(4602),i=r.n(n),o=r(1841),a=r(5038);let l="force-dynamic",c=new o.S3Client({region:process.env.AWS_DEFAULT_REGION}),d=process.env.S3_BUCKET;async function getThumbnails(){let e;let t=[];do{console.log("print bucket",d);let r=new o.ListObjectsV2Command({Bucket:d,ContinuationToken:e}),s=await c.send(r),n=s.Contents||[];t.push(...n),e=s.NextContinuationToken}while(e);let r=t.filter(e=>void 0!==e.LastModified&&e.Key?.includes(".png")).sort((e,t)=>e.LastModified&&t.LastModified?t.LastModified.getTime()-e.LastModified.getTime():0).slice(0,20),s=await Promise.all(r.map(async e=>{let t=new o.GetObjectCommand({Bucket:d,Key:e.Key}),r=await (0,a.getSignedUrl)(c,t,{expiresIn:3600});return{url:r,fileName:e.Key?.split(".")[0]}}));return s}async function Explore(){let e=await getThumbnails();return(0,s.jsxs)("div",{className:"container pt-24",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Latest Uploads"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:e&&e.map((e,t)=>s.jsx(i(),{href:e.fileName??"",children:s.jsx("div",{className:"h-52 w-52 shadow-xl mx-auto overflow-hidden",children:s.jsx("img",{className:"rounded-lg object-cover h-full w-full",alt:"Model Thumbnail",src:e.url})})},`model-${t}`))})]})}console.log(d),console.log(process.env.AWS_DEFAULT_REGION)},4998:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(6885);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,s.fillMetadataSegment)(".",e.params,"icon.png");return[{type:"image/png",sizes:"127x80",url:t+"?d2b05ec441a48fa6"}]}}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[818,38,885,667],()=>__webpack_exec__(7388));module.exports=r})();