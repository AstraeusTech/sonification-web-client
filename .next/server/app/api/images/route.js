(()=>{var e={};e.id=312,e.ids=[312],e.modules={6864:e=>{function webpackEmptyContext(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=6864,e.exports=webpackEmptyContext},1841:e=>{"use strict";e.exports=require("@aws-sdk/client-s3")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6495:(e,t,i)=>{"use strict";i.r(t),i.d(t,{headerHooks:()=>x,originalPathname:()=>f,requestAsyncStorage:()=>l,routeModule:()=>m,serverHooks:()=>k,staticGenerationAsyncStorage:()=>w,staticGenerationBailout:()=>y});var a={};i.r(a),i.d(a,{GET:()=>GET,dynamic:()=>p}),i(5655);var n=i(3323),o=i(4647),r=i(1841),s=i(5038);let p="force-dynamic",u=new r.S3Client,d=process.env.S3_BUCKET;async function GET(e){let t;let i=[];do{let e=new r.ListObjectsV2Command({Bucket:d,ContinuationToken:t}),a=await u.send(e),n=a.Contents||[];i.push(...n),t=a.NextContinuationToken}while(t);let a=i.filter(e=>void 0!==e.LastModified&&e.Key?.includes(".png")).sort((e,t)=>e.LastModified&&t.LastModified?t.LastModified.getTime()-e.LastModified.getTime():0).slice(0,20);try{let e=await Promise.all(a.map(async e=>{let t=new r.GetObjectCommand({Bucket:d,Key:e.Key}),i=await (0,s.getSignedUrl)(u,t,{expiresIn:3600});return{url:i,fileName:e.Key?.split(".")[0]}}));return new Response(JSON.stringify(e||[]))}catch(e){return new Response(JSON.stringify([]))}}let c=n.AppRouteRouteModule,m=new c({definition:{kind:o.x.APP_ROUTE,page:"/api/images/route",pathname:"/api/images",filename:"route",bundlePath:"app/api/images/route"},resolvedPagePath:"/Users/mirmukhammadmirsodikov/Documents/Development/sandbox/NASASpaceApps2023/sonification-web-app/app/api/images/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:w,serverHooks:k,headerHooks:x,staticGenerationBailout:y}=m,f="/api/images/route"}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),i=t.X(0,[38,405],()=>__webpack_exec__(6495));module.exports=i})();