(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1902:function(e,t,n){Promise.resolve().then(n.bind(n,8214))},8214:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Home}});var r=n(7437),a=n(6691),o=n.n(a),s=n(2265),l=n(4033),i=n(263).Buffer;function FileSelection(){let[e,t]=(0,s.useState)(!1),n=(0,l.useRouter)(),handleFileChange=async e=>{var t;let n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&await handleFile(n)},handleFile=async e=>{t(!0);try{let t=new FileReader;t.onload=async()=>{let e=new Image;e.src=t.result,e.onload=async()=>{let t=document.createElement("canvas"),n=t.getContext("2d"),r=e.width,a=e.height;r>1280&&(a*=1280/r,r=1280),a>720&&(r*=720/a,a=720),t.width=r,t.height=a,null==n||n.drawImage(e,0,0,r,a);let o=t.toDataURL("image/jpeg",.7),s=await new Promise(e=>{let t=new XMLHttpRequest;t.open("GET",o),t.responseType="arraybuffer",t.onload=()=>{e(t.response)},t.send()});await sendArrayBuffer(s)}},t.readAsDataURL(e)}catch(e){console.error("An error occurred:",e)}};async function sendArrayBuffer(e){try{var t;let r=i.from(e),a=await fetch("/api/upload",{method:"POST",body:r}),o=await a.json();n.push(null!==(t="/".concat(o.id))&&void 0!==t?t:"/")}catch(e){console.error("An error occurred:",e)}}return e?(0,r.jsx)("span",{className:"loading loading-dots loading-lg"}):(0,r.jsx)("div",{onDrop:e=>{var t;e.preventDefault();let n=null===(t=e.dataTransfer.files)||void 0===t?void 0:t[0];n&&("image/jpeg"===n.type||"image/png"===n.type)&&handleFile(n)},onDragOver:e=>e.preventDefault(),className:"flex flex-row max-w-2xl h-64 justify-center items-center border-2 border-gray-300 border-dashed rounded-lg hover:border-gray-400 transition-colors",children:(0,r.jsxs)("div",{className:"flex flex-col items-center mx-24",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Drag and drop"})," or ",(0,r.jsx)("b",{children:"select"})," a file to upload"]}),(0,r.jsx)("input",{type:"file",className:"file-input file-input-bordered w-full max-w-xs",onChange:handleFileChange,accept:"image/jpeg, image/png"})]})})}function Home(){let[e,t]=(0,s.useState)(!1);return(0,r.jsx)("main",{children:(0,r.jsx)("div",{className:"hero min-h-screen hero-pattern",children:(0,r.jsx)("div",{className:"hero-content text-center",children:e?(0,r.jsx)(FileSelection,{}):(0,r.jsxs)("div",{className:"max-w-lg",children:[(0,r.jsx)(o(),{src:"/waves.png",className:"m-auto",width:125,height:100,alt:"logo"}),(0,r.jsx)("h1",{className:"text-7xl font-bold text-slate-800",children:"Astrorpheus"}),(0,r.jsx)("h2",{className:"text-2xl text-slate-500 font-semibold mt-2",children:"A Space Odyssey in Sound"}),(0,r.jsx)("p",{className:"py-6 text-lg",children:"Explore space in way you have never experienced before. Astrorpheus is a space odyssey in sound. Explore the cosmos through the sounds of the planets, stars, and other celestial bodies."}),(0,r.jsx)("button",{onClick:()=>t(!0),className:"btn text-slate-50 transition-all duration-500 bg-gradient-to-tl from-rose-400 via-fuchsia-500 to-indigo-500 bg-size-200 bg-pos-0 hover:bg-pos-100",children:"Get Started"})]})})})})}},2597:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return i},unstable_getImgProps:function(){return unstable_getImgProps}});let r=n(1024),a=n(3655),o=n(7707),s=n(6964),l=r._(n(5324)),unstable_getImgProps=e=>{(0,o.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,a.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}},i=s.Image},7650:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return o}});let r=n(1024),a=r._(n(2265)),o=a.default.createContext(null)},6691:function(e,t,n){e.exports=n(2597)},4033:function(e,t,n){e.exports=n(290)}},function(e){e.O(0,[964,447,971,864,744],function(){return e(e.s=1902)}),_N_E=e.O()}]);